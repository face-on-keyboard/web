// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Post {
    id        Int      @id @default(autoincrement())
    name      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([name])
}

model CarbonRecord {
    id          String   @id @default(cuid())
    category    String // 類別：交通、能源、食物等
    description String // 描述
    amount      Float // 數量
    unit        String // 單位：kg, km, kWh等
    co2Amount   Float // 二氧化碳排放量（kg CO2）
    date        DateTime @default(now()) // 記錄日期
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt

    @@index([date])
    @@index([category])
}

enum TravelMode {
    WALK
    BIKE
    SCOOTER
    CAR
}

model Segments {
    id           String     @id @default(uuid())
    userEmail    String
    startX       Float
    startY       Float
    endX         Float
    endY         Float
    fromTime     DateTime
    toTime       DateTime
    travelMode   TravelMode
    estimatedCO2 Float
}
